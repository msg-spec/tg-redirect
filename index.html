<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Звезды и Числа — переход в Telegram</title>
<meta name="description" content="Открой в браузере, затем нажми кнопку. Внутри — бот о твоём пути по звёздам.">
<meta name="theme-color" content="#0b0b0f">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<style>
  :root{
    --bg:#0b0b10; --bg2:#131729;
    --text:#f5f6fa; --muted:#b6bed3;
    --gold:#fbd38d; --violet:#c7a4ff;
    --card:#111525;
    --ring:rgba(251,211,141,.35);
    --fs-xs: clamp(12px, 1.6vw, 13px);
    --fs-sm: clamp(13px, 1.8vw, 14px);
    --fs-md: clamp(16px, 2.2vw, 18px);
    --fs-lg: clamp(20px, 3.2vw, 26px);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;color:var(--text);
    font:var(--fs-md)/1.55 ui-sans-serif,-apple-system,Segoe UI,Roboto,Inter,Arial;
    min-height:100dvh;
    background: radial-gradient(1100px 700px at 50% -10%, #1a1e36, var(--bg));
    display:flex; align-items:center; justify-content:center;
    padding:max(18px, env(safe-area-inset-top)) max(18px, env(safe-area-inset-right))
            max(18px, env(safe-area-inset-bottom)) max(18px, env(safe-area-inset-left));
    overflow:hidden;
  }

  /* ---- Background layers ---- */
  .stars,.nebula,.shooting,.orbs{position:fixed; inset:-10vmax; pointer-events:none; z-index:0}
  /* twinkling stars */
  .stars{
    background:
      radial-gradient(2px 2px at 12% 22%, #fff9 45%, transparent 46%) repeat,
      radial-gradient(1.5px 1.5px at 78% 33%, #fff7 45%, transparent 46%) repeat,
      radial-gradient(1px 1px at 38% 72%, #fff6 45%, transparent 46%) repeat,
      radial-gradient(1.2px 1.2px at 62% 58%, #fff5 45%, transparent 46%) repeat;
    background-size:260px 260px, 320px 320px, 220px 220px, 280px 280px;
    animation: twinkle 6s linear infinite;
    filter: drop-shadow(0 0 6px rgba(255,255,255,.1));
    opacity:.7;
  }
  @keyframes twinkle { 50%{filter:brightness(1.1)} }

  /* aurora / nebula */
  .nebula{
    background:
      radial-gradient(70vmax 40vmax at 20% -10%, rgba(116, 86, 255,.22), transparent 60%),
      radial-gradient(70vmax 40vmax at 80% 110%, rgba(255, 140, 190,.18), transparent 60%),
      conic-gradient(from 180deg at 50% 50%, rgba(100,220,255,.06), rgba(255,200,120,.05), rgba(180,120,255,.07), rgba(100,220,255,.06));
    filter: blur(70px) saturate(1.15);
    mix-blend-mode: screen;
    animation: float 22s ease-in-out infinite alternate;
    opacity:.9;
  }
  @keyframes float { from{transform:translateY(-1.5%) scale(1.03)} to{transform:translateY(1.5%) scale(1.08)} }

  /* soft orbs */
  .orbs{
    background:
      radial-gradient(900px 360px at 50% 120%, rgba(251,211,141,.12), transparent 60%),
      radial-gradient(720px 300px at 0% 0%, rgba(120,200,255,.08), transparent 60%);
    filter: blur(30px);
    animation: breathe 16s ease-in-out infinite alternate;
  }
  @keyframes breathe { from{transform:translateY(0)} to{transform:translateY(-2%)} }

  /* shooting stars */
  .shooting::before, .shooting::after{
    content:""; position:absolute; width:30vmax; height:1px; left:-10vmax; top:20%;
    background: linear-gradient(90deg, transparent, #fff, transparent);
    opacity:.18; transform:rotate(12deg);
    animation: comet 8s linear infinite;
  }
  .shooting::after{ top:70%; transform:rotate(-14deg); animation-delay:3s; opacity:.14 }
  @keyframes comet {
    from{ transform: translateX(-20%) rotate(var(--angle,12deg)); }
    to{ transform: translateX(140%) rotate(var(--angle,12deg)); }
  }

  /* ---- Card ---- */
  .card{
    position:relative; z-index:1;
    width:min(780px, 100%);
    padding: clamp(20px, 3.5vw, 34px);
    border-radius: clamp(16px, 2.4vw, 22px);
    background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.1);
    box-shadow: 0 40px 90px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,.07);
    backdrop-filter: blur(10px) saturate(1.08);
  }
  header{ display:flex; align-items:center; gap:14px; margin-bottom:10px }
  .logo{
    width:44px;height:44px;border-radius:50%; position:relative; overflow:hidden; flex:0 0 auto;
    background: radial-gradient(circle at 35% 35%, #fff, #ffe9c0 45%, #e1bfff 70%, transparent 72%);
    box-shadow: 0 0 26px rgba(251,211,141,.35);
    animation: slowspin 14s linear infinite;
  }
  @keyframes slowspin { to{ transform:rotate(360deg) } }
  .eyebrow{ font-size:var(--fs-xs); text-transform:uppercase; letter-spacing:.18em; color:var(--muted) }
  h1{ margin:2px 0 6px; font-size:var(--fs-lg); letter-spacing:.3px }

  .notice{
    margin:10px 0 12px; padding:12px;
    border:1px dashed rgba(251,211,141,.35);
    border-radius:12px; background:rgba(251,211,141,.06)
  }

  /* Zodiac ring with glow */
  .ring{
    display:block; margin: clamp(8px,2vw,12px) auto clamp(14px,3vw,18px);
    width:min(560px, 92%); height:auto;
    filter: drop-shadow(0 8px 26px rgba(251,211,141,.2));
    animation: ring 28s linear infinite;
  }
  @keyframes ring { from{ transform:rotate(0) } to{ transform:rotate(360deg) } }

  /* Floating tarot “cards” */
  .tarots{ position:absolute; inset:0; pointer-events:none; z-index:0 }
  .cardlet{
    position:absolute; width:80px; height:120px; border-radius:12px;
    background: linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.18);
    box-shadow: 0 14px 36px rgba(0,0,0,.35);
    backdrop-filter: blur(6px);
    display:flex; align-items:center; justify-content:center;
    font-size:32px;
    animation: floaty var(--dur,12s) ease-in-out infinite alternate;
  }
  .cardlet:nth-child(1){ left:-6px; top:-12px; transform:rotate(-8deg); --dur:13s }
  .cardlet:nth-child(2){ right:-10px; top:-10px; transform:rotate(6deg); --dur:11s }
  .cardlet:nth-child(3){ right:-10px; bottom:-12px; transform:rotate(-5deg); --dur:14s }
  .cardlet:nth-child(4){ left:-12px; bottom:-10px; transform:rotate(7deg); --dur:12s }
  @keyframes floaty { from{ transform:translateY(-4px) rotate(var(--r,0)) } to{ transform:translateY(6px) rotate(var(--r,0)) } }

  /* ---- CTA ---- */
  .cta-wrap{ position:relative }
  .glow{
    position:absolute; inset:-16px; border-radius:24px; filter:blur(22px);
    background: radial-gradient(60% 120% at 50% 10%, rgba(251,211,141,.45), rgba(199,164,255,.35), transparent 70%);
    opacity:.55; transform:scale(.98);
    animation: pulse 2.8s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes pulse { 50%{ opacity:.85; transform:scale(1) } }

  .cta{
    display:block; width:100%; text-align:center; text-decoration:none;
    background:#fff; color:#000; font-weight:900; letter-spacing:.2px;
    padding: clamp(14px, 2.8vw, 18px);
    border-radius: clamp(12px, 2vw, 18px);
    border:1px solid rgba(255,255,255,.65);
    min-height:48px; -webkit-tap-highlight-color: transparent;
    position:relative; overflow:hidden;
    box-shadow: 0 18px 50px rgba(251,211,141,.28), 0 6px 18px rgba(0,0,0,.25);
    transition: transform .08s ease, box-shadow .25s ease;
  }
  .cta:hover{ transform:translateY(-1px); box-shadow:0 22px 60px rgba(251,211,141,.36), 0 8px 22px rgba(0,0,0,.28) }
  .cta:active{ transform:translateY(0) scale(.995) }
  .cta:focus-visible{ outline:none; box-shadow:0 0 0 8px var(--ring) }
  /* glossy shine */
  .cta::after{
    content:""; position:absolute; inset:-120% -40% auto; height:300%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.7), transparent);
    transform: rotate(25deg);
    animation: shine 3.5s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes shine{ 0%{ transform:translateX(-120%) rotate(25deg) } 65%{ transform:translateX(240%) rotate(25deg) } 100%{ transform:translateX(240%) rotate(25deg) } }

  .below{ margin-top:10px; display:flex; gap:8px; justify-content:center; flex-wrap:wrap }
  .ghost{
    padding:12px 14px; border-radius:12px;
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.12);
    color:var(--text); text-decoration:none; font-weight:600; min-height:44px;
  }
  .mini{ text-align:center; color:var(--muted); font-size:var(--fs-sm); margin-top:10px }

  .foot{ margin-top:12px; text-align:center; font-size:var(--fs-xs); color:var(--muted) }

  @media (max-width:420px){ .ghost{ width:100% } .cardlet{ display:none } }

  @media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important }
  }
</style>
<script>
  // Deep-link + micro haptics
  document.addEventListener('DOMContentLoaded', ()=>{
    const ua = navigator.userAgent.toLowerCase();
    const isApp = /tiktok|instagram|fbav|fb_iab/.test(ua);
    if(isApp) document.title='Открой в браузере → затем переход';

    const btn = document.getElementById('cta');
    const copy = document.getElementById('copy');
    const share = document.getElementById('share');

    btn.addEventListener('click', (e)=>{
      e.preventDefault();
      try{ if('vibrate' in navigator) navigator.vibrate(10); }catch(_){}
      const https = btn.href;
      const tg = btn.dataset.tg;
      const isMobile = /android|iphone|ipad|ipod/i.test(ua);

      if(isMobile && tg){
        const i = document.createElement('iframe');
        i.style.display='none'; i.src = tg; document.body.appendChild(i);
        const t = Date.now();
        setTimeout(()=>{ if(Date.now()-t<1600) location.href=https; i.remove(); }, 1200);
      } else {
        location.href = https;
      }
    });

    copy.addEventListener('click', async ()=>{
      const link = btn.href;
      try{ await navigator.clipboard.writeText(link); toast('Ссылка скопирована ✨'); }
      catch{ toast('Скопируй вручную: ' + link); }
    });

    if(!navigator.share) share.style.display='none';
    share.addEventListener('click', async ()=>{
      try{ await navigator.share({title:'Звезды и Числа', url: btn.href}); }catch(_){}
    });

    function toast(t){
      const n = document.createElement('div');
      n.textContent = t;
      n.style.cssText = "position:fixed;left:50%;top:18px;transform:translateX(-50%);background:rgba(0,0,0,.7);color:#fff;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.2);backdrop-filter:blur(6px);z-index:99";
      document.body.appendChild(n); setTimeout(()=>n.remove(),1500);
    }
  });
</script>
</head>
<body>
  <!-- animated backdrop -->
  <div class="stars" aria-hidden="true"></div>
  <div class="nebula" aria-hidden="true"></div>
  <div class="orbs" aria-hidden="true"></div>
  <div class="shooting" style="--angle:12deg" aria-hidden="true"></div>

  <main class="card" role="main" aria-label="Переход в Telegram">
    <div class="tarots" aria-hidden="true">
      <div class="cardlet" style="--r:-8deg">✦</div>
      <div class="cardlet" style="--r:6deg">☉</div>
      <div class="cardlet" style="--r:-5deg">☾</div>
      <div class="cardlet" style="--r:7deg">☿</div>
    </div>

    <header>
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div class="eyebrow">Звезды и Числа</div>
        <h1>Переход в канал</h1>
      </div>
    </header>

    <div class="notice">
      Если открыл из TikTok/Instagram — нажми <b>•••</b> → <b>«Открыть в браузере»</b>, затем кнопку ниже.
    </div>

    <svg class="ring" viewBox="0 0 600 600" aria-hidden="true">
      <defs>
        <linearGradient id="g" x1="0" x2="1">
          <stop offset="0" stop-color="#FBD38D"/><stop offset="1" stop-color="#E1BFFF"/>
        </linearGradient>
      </defs>
      <circle cx="300" cy="300" r="230" fill="none" stroke="url(#g)" stroke-opacity=".45" stroke-width="2"/>
      <g fill="#fff" fill-opacity=".92" font-size="28" font-family="system-ui,Segoe UI,Roboto">
        <text x="300" y="62" text-anchor="middle">♈︎</text><text x="468" y="116" text-anchor="middle">♉︎</text>
        <text x="543" y="284" text-anchor="middle">♊︎</text><text x="468" y="452" text-anchor="middle">♋︎</text>
        <text x="300" y="526" text-anchor="middle">♌︎</text><text x="132" y="452" text-anchor="middle">♍︎</text>
        <text x="57"  y="284" text-anchor="middle">♎︎</text><text x="132" y="116" text-anchor="middle">♏︎</text>
        <text x="300" y="132" text-anchor="middle">♐︎</text><text x="420" y="214" text-anchor="middle">♑︎</text>
        <text x="300" y="468" text-anchor="middle">♒︎</text><text x="180" y="214" text-anchor="middle">♓︎</text>
      </g>
    </svg>

    <div class="cta-wrap">
      <div class="glow" aria-hidden="true"></div>
      <a id="cta" class="cta" href="https://t.me/astro_zvch_bot?start=utm_tiktok_goroskopbrean"
         data-tg="tg://resolve?domain=astro_zvch_bot?start=utm_tiktok_goroskopbrean"" rel="noopener">
        Перейти в Telegram
      </a>
    </div>

    <div class="below">
      <button id="copy" class="ghost" type="button">🔗 Скопировать ссылку</button>
      <button id="share" class="ghost" type="button">📤 Поделиться</button>
    </div>

    <p class="mini">✨ 200 000+ просмотров наших прогнозов. Проверь свой знак — внутри канала.</p>
    <div class="foot">© Звезды и Числа</div>
  </main>
</body>
</html>